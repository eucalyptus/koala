
<!--! Tag editor -->
<div id="tag-editor" class="row controls-wrapper" ng-app="TagEditor"
     ng-controller="TagEditorCtrl" ng-init="initTags('${tags_json}')">
    <div class="columns"><h6 i18n:translate="">Tags</h6></div>
    <div class="columns field">
        <div class="items">
            <span class="label radius secondary tagentry" ng-repeat="tag in tagsArray" ng-cloak="cloak">
                <span>{{ tag.name }} <em>=</em> {{ tag.value }}</span>
                <a href="#" class="remove" ng-click="removeTag($index, $event)"
                   title="Remove tag"><i class="fi-x"></i></a>
            </span>
        </div>
        <div class="add-label">
            <span i18n:translate="" ng-show="tagsArray.length">Add another tag</span><span
                  ng-show="tagsArray.length == 0" i18n:translate="">Add a tag</span>:
        </div>
        <div class="row tagentry controls-wrapper">
            <div>
                <div class="small-4 columns">
                    <input id="new-tag-key" name="newTagKey" class="taginput key" placeholder="name..." ng-model="newTagKey" pattern="${layout.tag_pattern}" ng-maxlength="128"/>
                    <div>
                        <small class="error" i18n:translate="">Tag may not begin with "aws:"</small>
                        <small  ng-show="${form_name}.newTagKey.$error.maxlength" i18n:translate="">Key must be less than 128 chars.</small>
                    </div>
                </div>
                <div class="small-8 columns">
                    <input id="new-tag-value" name="newTagValue" class="taginput value" placeholder="value..."ng-model="newTagValue" pattern="${layout.tag_pattern}" ng-maxlength="256"/>
                    <div>
                        <small class="error" i18n:translate="">Tag may not begin with "aws:"</small>
                        <small ng-show="${form_name}.newTagValue.$error.maxlength" i18n:translate="">Value must be less than 256 chars.</small>
                    </div>
                </div>
            </div>
            <div>&nbsp;</div>
            <div>
                <div class="columns">
                    <a href="#" ng-click="addTag($event)" class="button round tiny" id="add-tag-btn" ng-disabled="${form_name}.newTagKey.$error.maxlength || ${form_name}.newTagValue.$error.maxlength"
                       title="Add tag" i18n:translate="">Add tag</a>
                </div>
            </div>
        </div>
        <!--! Add class="debug" to textarea to view tags data posted by form -->
        <textarea id="tags" name="tags" class="hidden"></textarea>
    </div>
    <script src="${request.static_url('koala:static/js/widgets/tag_editor.js')}"></script>
</div>
