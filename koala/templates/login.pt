<metal:block use-macro="main_template">

<div metal:fill-slot="head_css">
    <link rel="stylesheet" href="${request.static_url('koala:static/css/pages/login.css')}" />
</div>

<div metal:fill-slot="main_content">

    <div class="row" id="login-panel-wrapper">
        <div class="panel has-header ${'hide-aws' if not layout.aws_enabled else ''}" id="login-panel">
            <div class="header">Log in to your console</div>
            <div class="row">
                <div tal:condition="login_form_errors">
                <div data-alert="alert" class="alert-box alert large-10 large-centered columns"
                        tal:repeat="login_error login_form_errors">
                    ${ login_error }
                    <a href="#" class="close">&times;</a>
                </div>
                </div>
                <div class="${'large-5' if layout.aws_enabled else 'large-12'} columns">
                    <h6>Log in to Eucalyptus</h6>
                    <form class="custom" id="euca-login-form" method="post" action="${request.route_url('login')}">
                        <input type="hidden" name="came_from" value="${came_from}" />
                        <div class="row controls-wrapper controls_${field.name}" tal:repeat="field euca_login_form">
                            <div class="small-4 columns">
                                <label for="right-label" class="right">${field.label.text}</label>
                            </div>
                            <div class="small-8 columns field">
                                ${structure:field}
                                <div tal:condition="field.errors" class="server-validation">
                                    <span class="error" tal:repeat="error field.errors">
                                        ${error}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="small-4 columns"></div>
                            <div class="small-8 columns">
                                <button type="submit" class="button radius"
                                        name="login_type" value="Eucalyptus">Log in to Eucalyptus</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="large-1 columns" tal:condition="layout.aws_enabled">
                    <div class="or"></div>
                </div>
                <div class="large-6 columns" tal:condition="layout.aws_enabled">
                    <h6>Log in to AWS</h6>
                    <form class="custom" id="aws-login-form" method="post" action="${request.route_url('login')}">
                        <input type="hidden" name="came_from" value="${came_from}" />
                        <div class="row controls-wrapper controls_${field.name}" tal:repeat="field aws_login_form">
                            <div class="small-4 columns">
                                <label for="right-label" class="right">${field.label.text}</label>
                            </div>
                            <div class="small-8 columns field">
                                ${structure:field}
                                <div tal:condition="field.errors" class="server-validation">
                                    <span class="error" tal:repeat="error field.errors">
                                        ${error}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="small-4 columns"></div>
                            <div class="small-8 columns">
                                <button type="submit" class="button radius"
                                        id="aws-login-button" name="login_type" value="AWS">Log in to AWS</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</div>

</metal:block>
